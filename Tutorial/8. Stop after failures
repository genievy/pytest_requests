Остановить выполнение набора тестов после того, как n тестов не пройдено можно сделать, используя
 maxfail

Синтаксис:
pytest --maxfail=<num>  /пробелов быть не должно!
    <num>   - количество не выполненных тестов